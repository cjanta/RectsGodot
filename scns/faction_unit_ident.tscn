[gd_scene load_steps=3 format=3 uid="uid://cyt35oh2olilx"]

[ext_resource type="Texture2D" uid="uid://bbjncrlhcyj4t" path="res://grfx/sheets/#1 - Transparent Icons.png" id="2_5gkfj"]

[sub_resource type="GDScript" id="GDScript_ew66e"]
script/source = "class_name  Faction_Unit_Ident
extends Node

@export var unit_name = \"\"
@export var icon_vector : Vector2 = Vector2.ZERO
@onready var sprite = $icon_sprite
@onready var rastersize : float = 32.0
var session : Game_Session

var isReady = false
func _ready():
	session = find_parent(\"Game_Session\")
	
	
func setup(unitName, iconVector : Vector2):
	unit_name = unitName
	icon_vector = iconVector
	sprite.region_rect = Rect2(icon_vector.x * rastersize, icon_vector.y * rastersize, rastersize, rastersize)
	
func _process(delta):
	if not isReady:
		isReady = true
		

func guilog(test : String):
	session.gui.log(test)
"

[node name="Faction_Unit_Ident" type="Node2D"]
script = SubResource("GDScript_ew66e")
unit_name = "Soldat"
icon_vector = Vector2(1, 7)

[node name="icon_sprite" type="Sprite2D" parent="."]
texture = ExtResource("2_5gkfj")
region_enabled = true
region_rect = Rect2(32, 192, 32, 32)
